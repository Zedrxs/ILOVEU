<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rechner Trainer</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <!-- Login Screen -->
      <div id="login-screen" class="fullscreen centered">
        <div class="card login-card">
          <h1 class="app-title">Rechner Trainer</h1>
          <p class="subtitle">Bitte Passwort eingeben, um fortzufahren.</p>
          <form id="login-form" class="login-form">
            <label for="password-input" class="field-label">Passwort</label>
            <input
              id="password-input"
              type="password"
              class="text-input"
              placeholder="••••••••"
              autocomplete="off"
              required
            />
            <button type="submit" class="primary-btn">Betreten</button>
            <p id="login-error" class="error-text hidden">
              Falsches Passwort. Bitte versuche es erneut.
            </p>
          </form>
          <p class="hint-text">
            Hinweis: Du kannst das Passwort später in der Datei
            <code>app.js</code> anpassen.
          </p>
        </div>
      </div>

      <!-- Main App -->
      <div id="main-screen" class="hidden app-container">
        <header class="app-header">
          <div>
            <h1 class="app-title">Rechner Trainer</h1>
            <p class="subtitle">
              Übe Rechnen mit Lovis website
            </p>
          </div>
          <div class="scoreboard">
            <div class="score-item">
              <span class="score-label">Punkte</span>
              <span id="score-points" class="score-value">0</span>
            </div>
            <div class="score-item">
              <span class="score-label">Gelöste Aufgaben</span>
              <span id="score-completed" class="score-value">0</span>
            </div>
          </div>
        </header>

        <main class="main-layout">
          <section class="tasks-panel">
            <div class="panel-header">
              <h2 class="panel-title">Aufgaben</h2>
              <span id="task-count" class="badge">0 Aufgaben</span>
            </div>
            <p class="panel-description">
              Wähle eine Aufgabe aus der Liste. Die Konfiguration findest du in
              der Datei <code>tasks.json</code>.
            </p>
            <div id="tasks-list" class="tasks-list"></div>
            <p id="tasks-error" class="error-text hidden">
              Konnte die Aufgaben nicht laden. Bitte prüfe die Datei
              <code>tasks.json</code>.
            </p>
          </section>

          <section class="trainer-panel">
            <div class="panel-header">
              <h2 class="panel-title">Rechen-Trainer</h2>
            </div>
            <div id="trainer-empty" class="trainer-empty-state">
              <p class="subtitle">
                Wähle links eine Aufgabe aus, um zu starten.
              </p>
              <p class="hint-text">
                Die KI führt dich Schritt für Schritt durch die Rechnung. Du
                musst Zwischenergebnisse eintragen, um weiterzukommen.
              </p>
            </div>

            <div id="trainer-content" class="trainer-content hidden">
              <div class="trainer-task-header">
                <div>
                  <p id="trainer-difficulty" class="pill pill-difficulty">
                    Schwierigkeit
                  </p>
                  <h3 id="trainer-title" class="trainer-title"></h3>
                  <p id="trainer-description" class="trainer-description"></p>
                </div>
                <div class="pill-group">
                  <span id="trainer-points" class="pill pill-points"></span>
                </div>
              </div>

              <div class="conversation-layout">
                <div class="conversation-panel">
                  <div id="conversation-log" class="conversation-log"></div>
                  <div id="step-input-container" class="step-input-container">
                    <form id="step-form" class="step-form">
                      <label
                        id="step-label"
                        for="step-input"
                        class="field-label"
                      ></label>
                      <input
                        id="step-input"
                        type="text"
                        class="text-input"
                        autocomplete="off"
                        required
                      />
                      <button type="submit" class="primary-btn">
                        Bestätigen
                      </button>
                    </form>
                    <p id="step-error" class="error-text hidden"></p>
                  </div>

                  <div
                    id="final-compare-container"
                    class="final-compare-container hidden"
                  >
                    <h4 class="final-title">
                      Deine Lösung mit der KI vergleichen
                    </h4>
                    <p class="hint-text">
                      Trage dein Endergebnis ein. Die KI prüft, ob es korrekt
                      ist.
                    </p>
                    <form id="final-form" class="final-form">
                      <label
                        for="final-input"
                        class="field-label inline-label"
                      >
                        Endergebnis
                      </label>
                      <input
                        id="final-input"
                        type="text"
                        class="text-input"
                        autocomplete="off"
                        required
                      />
                      <button type="submit" class="primary-btn">
                        Prüfen
                      </button>
                    </form>
                    <p id="final-feedback" class="final-feedback"></p>
                  </div>
                </div>

                <aside class="assistant-panel">
                  <h4 class="assistant-title">KI-Assistent</h4>
                  <div id="assistant-message" class="assistant-message">
                    <p>
                      Ich bin dein kostenloser KI-Trainer. Wähle eine Aufgabe
                      und wir rechnen sie gemeinsam Schritt für Schritt.
                    </p>
                  </div>
                </aside>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>


